<!DOCTYPE html>\n<html>\n<head>\n    <title>Add Part - Fast Entry</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }\n        .header { background: #27ae60; color: white; padding: 15px; margin: -20px -20px 20px; }\n        .form-container { background: white; padding: 30px; border-radius: 5px; max-width: 600px; margin: 0 auto; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }\n        .form-group { margin-bottom: 20px; }\n        label { display: block; margin-bottom: 5px; font-weight: bold; color: #2c3e50; }\n        input, select, textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 3px; font-size: 14px; }\n        input:focus, select:focus, textarea:focus { border-color: #3498db; outline: none; box-shadow: 0 0 5px rgba(52, 152, 219, 0.3); }\n        .required { color: #e74c3c; }\n        .form-actions { text-align: center; margin-top: 30px; }\n        .btn { padding: 12px 24px; margin: 0 10px; border: none; border-radius: 3px; cursor: pointer; font-size: 14px; text-decoration: none; display: inline-block; }\n        .btn-primary { background: #3498db; color: white; }\n        .btn-primary:hover { background: #2980b9; }\n        .btn-success { background: #27ae60; color: white; }\n        .btn-success:hover { background: #229954; }\n        .btn-secondary { background: #95a5a6; color: white; }\n        .btn-secondary:hover { background: #7f8c8d; }\n        .messages { margin-bottom: 20px; }\n        .messages div { padding: 10px; border-radius: 3px; margin-bottom: 5px; }\n        .messages .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }\n        .messages .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }\n        .help-text { font-size: 12px; color: #7f8c8d; margin-top: 5px; }\n        .loading { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.8); color: white; padding: 20px; border-radius: 5px; }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <h1>‚ûï Add New Part</h1>\n        <a href=\"{% url 'fast_parts_list' %}\" style=\"color: white; text-decoration: none;\">‚Üê Back to Parts List</a>\n    </div>\n\n    {% if messages %}\n    <div class=\"messages\">\n        {% for message in messages %}\n        <div class=\"{{ message.tags }}\">{{ message }}</div>\n        {% endfor %}\n    </div>\n    {% endif %}\n\n    <div class=\"form-container\">\n        <form method=\"post\" id=\"partForm\">\n            {% csrf_token %}\n            \n            <div class=\"form-group\">\n                <label for=\"manufacturer\">Manufacturer <span class=\"required\">*</span></label>\n                <select name=\"manufacturer\" id=\"manufacturer\" required>\n                    <option value=\"\">Select Manufacturer...</option>\n                    {% for mfg in manufacturers %}\n                    <option value=\"{{ mfg.id }}\">{{ mfg.abbreviation }} - {{ mfg.name }}</option>\n                    {% endfor %}\n                </select>\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"part_number\">Part Number <span class=\"required\">*</span></label>\n                <input type=\"text\" name=\"part_number\" id=\"part_number\" required placeholder=\"Enter part number...\" autofocus>\n                <div class=\"help-text\">Enter the manufacturer's part number</div>\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"name\">Part Name <span class=\"required\">*</span></label>\n                <input type=\"text\" name=\"name\" id=\"name\" required placeholder=\"Enter part name...\">\n                <div class=\"help-text\">Descriptive name of the part</div>\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"category\">Category <span class=\"required\">*</span></label>\n                <select name=\"category\" id=\"category\" required>\n                    <option value=\"\">Select Category...</option>\n                    {% for cat in categories %}\n                    <option value=\"{{ cat.id }}\">{{ cat.name }}</option>\n                    {% endfor %}\n                </select>\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"description\">Description</label>\n                <textarea name=\"description\" id=\"description\" rows=\"3\" placeholder=\"Optional description...\"></textarea>\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"weight\">Weight (lbs)</label>\n                <input type=\"number\" name=\"weight\" id=\"weight\" step=\"0.01\" placeholder=\"0.00\">\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"dimensions\">Dimensions</label>\n                <input type=\"text\" name=\"dimensions\" id=\"dimensions\" placeholder=\"L x W x H in inches\">\n                <div class=\"help-text\">Example: 12.5 x 8.0 x 3.25</div>\n            </div>\n\n            <div class=\"form-actions\">\n                <button type=\"submit\" name=\"save\" class=\"btn btn-primary\">üíæ Save Part</button>\n                <button type=\"submit\" name=\"save_and_add\" class=\"btn btn-success\">üíæ‚ûï Save & Add Another</button>\n                <a href=\"{% url 'fast_parts_list' %}\" class=\"btn btn-secondary\">‚ùå Cancel</a>\n            </div>\n        </form>\n    </div>\n\n    <div class=\"loading\" id=\"loading\">Saving part...</div>\n\n    <script>\n        // Auto-submit on Ctrl+Enter\n        document.addEventListener('keydown', function(e) {\n            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {\n                e.preventDefault();\n                document.querySelector('button[name=\"save_and_add\"]').click();\n            }\n        });\n\n        // Show loading on form submit\n        document.getElementById('partForm').addEventListener('submit', function() {\n            document.getElementById('loading').style.display = 'block';\n        });\n\n        // Auto-focus next field on enter\n        const inputs = document.querySelectorAll('input, select, textarea');\n        inputs.forEach((input, index) => {\n            input.addEventListener('keydown', function(e) {\n                if (e.key === 'Enter' && !e.ctrlKey && !e.metaKey) {\n                    e.preventDefault();\n                    const nextInput = inputs[index + 1];\n                    if (nextInput) {\n                        nextInput.focus();\n                    } else {\n                        document.querySelector('button[name=\"save\"]').focus();\n                    }\n                }\n            });\n        });\n\n        // Highlight required fields that are empty\n        function validateForm() {\n            const requiredFields = document.querySelectorAll('[required]');\n            let isValid = true;\n            \n            requiredFields.forEach(field => {\n                if (!field.value) {\n                    field.style.borderColor = '#e74c3c';\n                    isValid = false;\n                } else {\n                    field.style.borderColor = '#ddd';\n                }\n            });\n            \n            return isValid;\n        }\n\n        // Validate on submit\n        document.getElementById('partForm').addEventListener('submit', function(e) {\n            if (!validateForm()) {\n                e.preventDefault();\n                document.getElementById('loading').style.display = 'none';\n                alert('Please fill in all required fields (marked with *)');\n            }\n        });\n    </script>\n</body>\n</html>\n